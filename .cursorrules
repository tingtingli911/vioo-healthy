# VIOO 健康管理系统 - AI 工作规则

> **重要**：每次进行代码修改或功能开发前，必须首先读取并遵循 `docs/08-AI工作规范.md` 中的工作流程。

## 核心工作原则

### 1. 操作前必须执行（强制执行）

在进行任何代码修改、功能开发或文件操作之前，AI 必须：

1. **首先读取 `docs/08-AI工作规范.md`** - 了解完整的工作流程和规范
2. **根据任务类型读取相关文档**：
   - 涉及功能开发 → 读取 `docs/03-功能模块.md` 和 `docs/02-技术架构.md`
   - 涉及 API 变更 → 读取 `docs/04-API文档.md`
   - 涉及数据库 → 读取 `docs/05-数据库设计.md`
   - 涉及代码规范 → 读取 `docs/06-开发规范.md`
3. **检查现有代码**：使用工具查找是否已有类似功能，避免重复开发
4. **确认变更范围**：明确需要修改和新增的文件

### 2. 文档同步更新（强制执行）

每次功能变更后，必须根据变更类型更新相应文档：

- **新增功能** → 更新 `docs/03-功能模块.md` 和 `docs/CHANGELOG.md`
- **API 变更** → 更新 `docs/04-API文档.md` 和 `docs/CHANGELOG.md`
- **数据库变更** → 更新 `docs/05-数据库设计.md` 和 `docs/CHANGELOG.md`
- **架构变更** → 更新 `docs/02-技术架构.md` 和 `docs/CHANGELOG.md`
- **Bug 修复** → 更新 `docs/CHANGELOG.md`
- **功能改进** → 更新 `docs/CHANGELOG.md`

### 3. 禁止行为

- ❌ 禁止直接编写代码而不查看文档
- ❌ 禁止创建与现有功能重复的代码
- ❌ 禁止只修改代码不更新文档
- ❌ 禁止使用与项目规范不一致的代码风格

### 4. 必须行为

- ✅ 必须先阅读相关文档再开始开发
- ✅ 必须先检查现有代码避免重复
- ✅ 必须遵循 `docs/06-开发规范.md` 中的代码规范
- ✅ 必须同步更新相关文档和 CHANGELOG.md

## 工作流程

### 标准流程（必须遵循）

```
1. 读取 docs/08-AI工作规范.md
   ↓
2. 根据任务类型读取相关文档
   ↓
3. 使用工具检查现有代码结构
   ↓
4. 确认变更范围和影响
   ↓
5. 执行开发任务（遵循规范）
   ↓
6. 更新相关文档
   ↓
7. 更新 CHANGELOG.md
```

## 文档位置

所有项目文档位于 `docs/` 目录：

- `docs/01-项目概述.md` - 项目介绍
- `docs/02-技术架构.md` - 技术栈、目录结构
- `docs/03-功能模块.md` - 功能清单
- `docs/04-API文档.md` - API 接口规范
- `docs/05-数据库设计.md` - 数据模型
- `docs/06-开发规范.md` - 代码规范
- `docs/07-部署说明.md` - 部署指南
- `docs/08-AI工作规范.md` - **AI 工作流程（必须首先阅读）**
- `docs/CHANGELOG.md` - 变更日志

## 项目结构

### 前端
- `frontend/src/` - Vue 3 前端代码
- `frontend/src/components/` - 组件目录
  - `layout/` - 布局组件
  - `pages/` - 页面组件
  - `modules/` - 功能模块组件
  - `ui/` - UI 基础组件
- `frontend/src/views/` - 视图页面
- `frontend/src/api/` - API 接口封装
- `frontend/src/router/` - 路由配置

### 后端
- `backend/healthy/` - Django 项目配置
- `backend/users/` - 用户应用
- `backend/manage.py` - Django 管理脚本

## 技术栈

- **前端**：Vue 3.4.0 + Vite 5.0.0 + Tailwind CSS + Element Plus
- **后端**：Django 5.0.0 + Django REST Framework
- **数据库**：MySQL 8.0

## 重要提醒

1. **每次对话开始时**，如果涉及代码修改，必须首先读取 `docs/08-AI工作规范.md`
2. **不要跳过文档阅读步骤**，即使任务看起来很简单
3. **文档更新是必须的**，不是可选的
4. **遵循项目规范**，不要使用项目中没有的技术或模式

---

**最后更新**：2025-01-27
