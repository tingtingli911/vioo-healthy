# 变更日志

本文档记录项目的所有重要变更。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
版本号遵循 [Semantic Versioning](https://semver.org/lang/zh-CN/)。

## [1.0.0] - 2025-01-27

### 新增
- ✨ 用户注册功能
  - 用户名和密码注册
  - 用户名唯一性验证
  - 第一个注册用户自动成为超级管理员
  - 注册成功后自动登录

- ✨ 用户登录功能
  - 用户名密码登录
  - Token 认证机制（7天有效期）
  - 登录状态保持

- ✨ 用户信息管理
  - 获取当前登录用户信息
  - 显示用户角色（普通用户/超级管理员）
  - 显示注册时间

- ✨ 权限管理
  - 超级管理员权限系统
  - 权限验证中间件
  - 管理后台接口（仅超级管理员可访问）

- ✨ 前端页面
  - 登录页面（`/login`）
  - 注册页面（`/register`）
  - 首页（`/`）
  - 用户信息展示
  - 退出登录功能

- ✨ 项目文档
  - 创建核心文档目录 `docs/`
  - 项目概述文档
  - 技术架构文档
  - 功能模块文档
  - API 文档
  - 数据库设计文档
  - 开发规范文档
  - 部署说明文档
  - 变更日志

### 修复
- 🐛 修复登录注册页面品牌标识显示问题
  - 移除 CSS `text-transform: lowercase` 属性
  - 确保 "VIOO" 以大写形式显示

### 变更
- 📝 更新项目 README.md
  - 添加详细的项目说明
  - 添加快速开始指南
  - 添加环境变量配置说明

### 技术栈
- **前端**：Vue 3.4.0 + Vite 5.0.0 + Element Plus 2.13.1
- **后端**：Django 5.0.0 + Django REST Framework 3.14.0
- **数据库**：MySQL 8.0
- **部署**：Docker + Docker Compose

---

## [未发布]

### 新增
- ✨ **AI 工作规范文档和自动化规则**
  - 创建 `docs/08-AI工作规范.md` - 定义 AI 助手工作流程和文档维护规范
  - 创建 `.cursorrules` - Cursor IDE 自动加载的项目规则文件
  - 更新 `docs/README.md` - 添加 AI 工作规范链接
  - 实现自动化文档维护机制，确保每次功能变更都同步更新文档

### 变更
- ✨ **UI 设计系统重构**
  - 集成 Tailwind CSS 设计系统
  - 使用 lucide-vue-next 图标库
  - 实现完整的健康管理主题色彩系统
  - 添加渐变、阴影、动画等视觉效果

- ✨ **全新首页设计**
  - Hero 区域展示
  - 功能特性介绍
  - 产品亮点展示
  - 响应式布局设计

- ✨ **仪表板页面**
  - 健康指标概览卡片
  - AI 健康助手建议
  - 功能模块快速访问
  - 快捷操作按钮

- ✨ **功能模块页面**
  - 智能健康管理模块（AI 对话、健康建议）
  - 体重管理模块（图表展示、记录管理）
  - 血糖管理模块（曲线图、指标分析）
  - 体检报告模块（报告上传、指标解读）

- ✨ **组件库**
  - Button 组件（多种变体和尺寸）
  - Navbar 导航栏组件
  - BottomNav 底部导航组件
  - 模块化页面组件

- ✨ **路由系统优化**
  - 简化路由结构
  - 登录状态管理
  - 页面导航逻辑

### 变更
- 📝 **技术栈升级**
  - 添加 Tailwind CSS 3.4.17
  - 添加 recharts 2.15.4（图表库）
  - 添加 lucide-vue-next 0.344.0（图标库）
  - 添加 clsx 和 tailwind-merge（工具库）
  - 配置 Vite 路径别名（@/）

- 📝 **UI 框架迁移**
  - 主界面从 Element Plus 迁移到 Tailwind CSS
  - 保留 Login/Register 页面的 Element Plus（兼容性）
  - 统一设计语言和视觉风格

- 📝 **项目结构优化**
  - 组件按功能分类（layout、pages、modules、ui）
  - 样式系统化（theme.css 设计系统）
  - 代码组织更清晰

### 修复
- 🐛 修复 Vite 路径别名配置问题
  - 添加 `@` 别名指向 `src` 目录
  - 解决组件导入路径错误

- 🐛 修复登录注册页面 UI 风格不一致问题
  - 统一登录注册页面与主页的视觉风格
  - 使用白色背景替代渐变背景
  - 使用卡片式布局，与主页保持一致
  - 品牌标识使用渐变文字效果

- 🐛 修复体重管理和血糖管理页面 recharts 错误
  - 完全移除 recharts 库（recharts 主要为 React 设计，在 Vue 3 中存在根本性兼容性问题）
  - 使用原生 SVG 实现图表功能，避免第三方库兼容性问题
  - 实现体重趋势折线图和血糖曲线面积图
  - 保留原有的视觉效果和交互体验
  - 图表完全兼容 Vue 3，不再出现任何错误

- 🐛 修复时间显示问题
  - 将页面中的 2024/2025 年份更新为 2026

- 🐛 修复登录注册页面品牌名称不可点击问题
  - 将品牌名称 "VIOO" 改为可点击的链接，点击可跳转到主页
  - 添加悬停效果，提升用户体验

- 🐛 修复模块页面顶部空白问题
  - 移除 `ModulePage.vue` 中多余的 `pt-20` 样式，消除顶部空白

- 🐛 修复路由刷新后回到主页的问题
  - 为每个功能模块添加独立的路由配置（`/weight`, `/glucose`, `/ai`, `/report`）
  - 修改 `Index.vue` 使其根据路由路径自动设置 `activeTab`
  - 添加路由监听，支持刷新后保持当前页面
  - 更新导航逻辑，使用 `router.push` 进行页面跳转
  - 添加路由守卫，保护功能页面需要登录才能访问

### 变更
- 📝 将"智能健康"模块改为"运动管理"模块
  - 创建新的运动管理模块组件（ExerciseModule.vue）
  - 更新首页模块卡片，显示"运动管理"而非"智能健康"
  - 更新路由配置，将 `/ai` 改为 `/exercise`
  - 运动管理模块包含运动时长统计、图表展示和记录管理功能

- 📝 将AI健康助手建议改为对话框形式
  - 将首页的AI健康助手建议卡片改为对话框界面
  - 原有的三条建议合并为chatbot的第一条消息
  - 添加输入框和发送按钮，支持用户与AI助手对话
  - 保留原有的视觉效果和交互体验

### 计划中
- 🔄 体重管理模块完整功能开发（数据录入、API 集成）
- 🔄 血糖管理模块功能开发（数据录入、API 集成）
- 🔄 体检报告模块功能开发（文件上传、AI 解析）
- 🔄 AI 智能推荐模块功能开发（对话功能、建议生成）
- 🔄 运动管理模块完整功能开发（数据录入、API 集成）
- 🔄 密码加密存储
- 🔄 Token 刷新机制
- 🔄 登录日志记录

---

## 版本说明

### 版本号格式
- **主版本号**：不兼容的 API 修改
- **次版本号**：向下兼容的功能性新增
- **修订号**：向下兼容的问题修正

### 变更类型
- **新增**：新功能
- **修复**：Bug 修复
- **变更**：功能变更或改进
- **移除**：功能移除
- **安全**：安全相关修复

---

**最后更新**：2025-01-27
